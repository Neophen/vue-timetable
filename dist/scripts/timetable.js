!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t,n){var o,r,i;r=[t],void 0===(i="function"==typeof(o=function(e){var t="scroll",n=Math.round,o={},r=function(){var e,r,i,s,a,l=document.getElementsByClassName("syncscroll");for(a in o)if(o.hasOwnProperty(a))for(e=0;e<o[a].length;e++)o[a][e].removeEventListener(t,o[a][e].syn,0);for(e=0;e<l.length;)if(s=r=0,a=(i=l[e++]).getAttribute("name")){for(i=i.scroller||i;r<(o[a]=o[a]||[]).length;)s|=o[a][r++]==i;s||o[a].push(i),i.eX=i.eY=0,function(e,r){e.addEventListener(t,e.syn=function(){var t,i=o[r],s=e.scrollLeft,a=e.scrollTop,l=s/(e.scrollWidth-e.clientWidth),c=a/(e.scrollHeight-e.clientHeight),d=s!=e.eX,u=a!=e.eY,h=0;for(e.eX=s,e.eY=a;h<i.length;)(t=i[h++])!=e&&(d&&n(t.scrollLeft-(s=t.eX=n(l*(t.scrollWidth-t.clientWidth))))&&(t.scrollLeft=s),u&&n(t.scrollTop-(a=t.eY=n(c*(t.scrollHeight-t.clientHeight))))&&(t.scrollTop=a))},0)}(i,a)}};"complete"==document.readyState?r():window.addEventListener("load",r,0),e.reset=r})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){n(2),n(3),e.exports=n(8)},function(e,t,n){"use strict";n.r(t);const o=e=>e>=0&&e<24,r=(e,t)=>o(e)&&o(t),i=(e,t)=>e<t,s=(e,t)=>t>=e?t-e:24+t-e,a=(e,t)=>{var n;t?n=(e+11)%12+1+":00"+(e>=12?"PM":"AM"):n=(e<10?"0":"")+e+":00";return n},l=e=>{for(;e.firstChild;)e.removeChild(e.firstChild);return e};var c=n(0);class d{constructor(e){this.timetable=e}setHours(){this.scopeDurationHours=s(this.timetable.scope.hourStart,this.timetable.scope.hourEnd)}renderEvent(e,t){var n=t.appendChild(document.createElement("div"));"string"==typeof e.html?n.innerHTML=e.html:n.appendChild(e.html),n.className="time-entry",n.style.width=this.computeEventBlockWidth(e),n.style.left=this.computeEventBlockOffset(e)}computeEventBlockWidth({startDate:e,endDate:t}){const n=e,o=t;return this.computeDurationInHours(n,o)/this.scopeDurationHours*100+"%"}computeDurationInHours(e,t){return(t.getTime()-e.getTime())/1e3/60/60}computeEventBlockOffset(e){const t=this.timetable.scope.hourStart,n=e.startDate.getHours()+e.startDate.getMinutes()/60;return s(t,n)/this.scopeDurationHours*100+"%"}}class u{constructor(e){this.timetable=e,this.eventRenderer=new d(e)}draw(e){this.eventRenderer.setHours();let t=document.querySelector(e);this.checkContainerPrecondition(t),t=l(t),this.appendTimetableAside(t),this.appendTimetableSection(t),c.reset()}checkContainerPrecondition(e){if(!e)throw new Error("Timetable container not found")}appendTimetableAside(e){const t=e.appendChild(document.createElement("aside")).appendChild(document.createElement("ul"));this.appendRowHeaders(t)}appendRowHeaders(e){this.timetable.locations.forEach(t=>{const n=e.appendChild(document.createElement("li")).appendChild(document.createElement("span"));n.className="row-heading",n.textContent=t})}appendTimetableSection(e){const t=e.appendChild(document.createElement("section")),n=this.appendColumnHeaders(t),o=t.appendChild(document.createElement("time"));o.className="syncscroll",o.setAttribute("name","scrollheader");const r=n.scrollWidth+"px";this.appendTimeRows(o,r)}appendColumnHeaders(e){const t=e.appendChild(document.createElement("header"));t.className="syncscroll",t.setAttribute("name","scrollheader");const n=t.appendChild(document.createElement("ul"));let o=!1,r=!1;for(let e=this.timetable.scope.hourStart;!o;){const t=n.appendChild(document.createElement("li")).appendChild(document.createElement("span"));t.className="time-label",t.textContent=a(e,this.timetable.usingTwelveHour),e!==this.timetable.scope.hourEnd||this.timetable.scope.hourStart===this.timetable.scope.hourEnd&&!r||(o=!0),24==++e&&(e=0,r=!0)}return t}appendTimeRows(e,t){const n=e.appendChild(document.createElement("ul"));n.style.width=t,n.className="room-timeline",this.timetable.locations.forEach(e=>{const t=n.appendChild(document.createElement("li"));this.appendLocationEvents(e,t)})}appendLocationEvents(e,t){this.timetable.events.filter(t=>t.location===e).forEach(e=>this.eventRenderer.renderEvent(e,t))}}class h{constructor(){this.scope={hourStart:9,hourEnd:17},this.usingTwelveHour=!1,this.locations=[],this.events=[],this.renderer=new u(this)}setScope(e,t){if(!r(e,t))throw new RangeError("Timetable scope should consist of (start, end) in whole hours from 0 to 23");return this.scope.hourStart=e,this.scope.hourEnd=t,this}useTwelveHour(){this.usingTwelveHour=!0}addLocations(e){return e.forEach(e=>{if(this.locations.includes(e))throw new Error("Location already exists");this.locations.push(e)}),this}addEvent(e){if(!this.locations.includes(e.location))throw new Error("Unknown location");if(!i(e.startDate,e.endDate))throw new Error("Invalid time range: "+JSON.stringify([e.startDate,e.endDate]));return this.events.push(e),this}}window.getTimetable=function(){return new h}},function(e,t){},,,,,function(e,t){}]);